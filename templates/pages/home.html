{% extends 'base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block extra_css %}
<style>
    /* Override base.html margins for homepage */
    main {
        margin-top: 0 !important;
    }
    
    .homepage-container {
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    .content-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
    }
    
    .hero-section {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%), 
                    url('https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80') center/cover;
        color: white;
        min-height: 100vh;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
    }
    
    .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }
    
    .hero-bg-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
    
    .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .hero-subtitle {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.9;
    }
    
    .feature-card {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        display: block;
    }
    
    .stats-overlay {
        position: absolute;
        bottom: -60px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px 40px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        z-index: 5;
        width: 90%;
        max-width: 800px;
    }
    
    .stat-card {
        text-align: center;
        padding: 2rem;
    }
    
    .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: #667eea;
        display: block;
    }
    
    .stat-label {
        color: #6c757d;
        margin-top: 0.5rem;
    }
    
    .cta-section {
        background: linear-gradient(135deg, rgba(118, 75, 162, 0.7) 0%, rgba(102, 126, 234, 0.7) 100%), 
                    url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80&blur=0') center/cover;
        color: white;
        padding: 5rem 0;
        text-align: center;
        position: relative;
        overflow: hidden;
    }
    
    .cta-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.3);
        z-index: 1;
    }
    
    .cta-section .container {
        position: relative;
        z-index: 2;
    }
    
    .btn-cta {
        background: white;
        color: #667eea;
        border: none;
        padding: 1rem 3rem;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        transition: all 0.3s ease;
        margin: 0.5rem;
        text-decoration: none;
        display: inline-block;
    }
    
    .btn-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        color: #667eea;
    }
    
    .btn-cta-outline {
        background: transparent;
        color: white;
        border: 2px solid white;
    }
    
    .btn-cta-outline:hover {
        background: white;
        color: #667eea;
    }
    
    /* Side images removed for cleaner design */
    
    .floating-elements {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
    }
    
    .floating-element {
        position: absolute;
        opacity: 0.1;
        animation: float 6s ease-in-out infinite;
    }
    
    .floating-element:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
    .floating-element:nth-child(2) { top: 20%; right: 10%; animation-delay: 2s; }
    .floating-element:nth-child(3) { bottom: 30%; left: 15%; animation-delay: 4s; }
    .floating-element:nth-child(4) { bottom: 20%; right: 20%; animation-delay: 1s; }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
    }
    
    .community-showcase {
        background: linear-gradient(45deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 5rem 0;
        position: relative;
    }
    
    .community-image {
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        transform: rotate(-2deg);
        transition: transform 0.3s ease;
    }
    
    .community-image:hover {
        transform: rotate(0deg) scale(1.05);
    }
    
    .testimonial-card {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        position: relative;
        margin: 1rem 0;
    }
    
    .testimonial-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #667eea;
    }
    
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }
        
        .hero-subtitle {
            font-size: 1rem;
        }
        
        .feature-card {
            margin-bottom: 2rem;
        }
        
        .stats-overlay {
            bottom: -40px;
            padding: 20px;
            width: 95%;
        }
        
        .floating-elements {
            display: none;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="homepage-container">

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-bg-pattern"></div>
    <div class="floating-elements">
        <div class="floating-element">
            <i class="bi bi-heart-fill text-white" style="font-size: 2rem;"></i>
        </div>
        <div class="floating-element">
            <i class="bi bi-chat-heart-fill text-white" style="font-size: 2rem;"></i>
        </div>
        <div class="floating-element">
            <i class="bi bi-people-fill text-white" style="font-size: 2rem;"></i>
        </div>
        <div class="floating-element">
            <i class="bi bi-globe-americas text-white" style="font-size: 2rem;"></i>
        </div>
    </div>
    <div class="content-container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="hero-content">
                    <h1 class="hero-title">
                        Welcome to GupShup! 🇮🇳
                    </h1>
                    <p class="hero-subtitle">
                        India's premier social platform connecting millions of Indians worldwide.<br>
                        Share your stories, connect with friends, and celebrate our incredible diversity!
                    </p>
                    <div class="hero-actions">
                        <a href="{% url 'accounts:register' %}" class="btn-cta">
                            <i class="bi bi-person-plus me-2"></i>Join GupShup Today
                        </a>
                        <a href="{% url 'accounts:login' %}" class="btn-cta-outline">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Sign In
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Stats Overlay -->
    <div class="stats-overlay">
        <div class="row text-center">
            <div class="col-4">
                <div class="stat-card">
                    <span class="stat-number" style="color: #667eea;">{{ user_count }}+</span>
                    <p class="stat-label" style="color: #6c757d; margin: 0;">Active Users</p>
                </div>
            </div>
            <div class="col-4">
                <div class="stat-card">
                    <span class="stat-number" style="color: #667eea;">{{ recent_posts_count }}+</span>
                    <p class="stat-label" style="color: #6c757d; margin: 0;">Posts Shared</p>
                </div>
            </div>
            <div class="col-4">
                <div class="stat-card">
                    <span class="stat-number" style="color: #667eea;">28+</span>
                    <p class="stat-label" style="color: #6c757d; margin: 0;">States</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5" id="features" style="margin-top: 80px;">
    <div class="content-container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold mb-3">Why Choose GupShup?</h2>
                <p class="lead text-muted">
                    Built by Indians, for Indians - with features that celebrate our culture and diversity
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="mb-3">
                        <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                             alt="Multilingual communication" class="img-fluid rounded" style="height: 150px; width: 100%; object-fit: cover;">
                    </div>
                    <span class="feature-icon">🗣️</span>
                    <h4>Express in Your Language</h4>
                    <p class="text-muted">
                        Post in Hindi, English, or your regional language. GupShup supports multilingual content!
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="mb-3">
                        <img src="https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                             alt="People connecting" class="img-fluid rounded" style="height: 150px; width: 100%; object-fit: cover;">
                    </div>
                    <span class="feature-icon">🤝</span>
                    <h4>Connect with Indians</h4>
                    <p class="text-muted">
                        Find friends from your city, state, or anywhere across India and the diaspora worldwide.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <div class="mb-3">
                        <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" 
                             alt="Sharing stories" class="img-fluid rounded" style="height: 150px; width: 100%; object-fit: cover;">
                    </div>
                    <span class="feature-icon">📸</span>
                    <h4>Share Your Stories</h4>
                    <p class="text-muted">
                        Upload photos, videos, and share moments from your life with rich media support.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <span class="feature-icon">🎉</span>
                    <h4>Celebrate Festivals</h4>
                    <p class="text-muted">
                        Join festival celebrations, share traditions, and stay connected with Indian culture.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <span class="feature-icon">🔒</span>
                    <h4>Privacy First</h4>
                    <p class="text-muted">
                        Your data is yours. Complete control over your privacy with granular settings.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card">
                    <span class="feature-icon">🌟</span>
                    <h4>Discover Content</h4>
                    <p class="text-muted">
                        Explore trending posts, discover new creators, and stay updated with what's happening.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Community Showcase Section -->
<section class="community-showcase" id="community">
    <div class="content-container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h2 class="display-5 fw-bold mb-4">Connect with Amazing People</h2>
                <p class="lead text-muted mb-4">
                    Join thousands of Indians sharing their stories, celebrating festivals, 
                    and building meaningful connections across the globe.
                </p>
                <div class="row g-3">
                    <div class="col-6">
                        <div class="testimonial-card">
                            <div class="d-flex align-items-center mb-3">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80" 
                                     alt="User" class="testimonial-avatar me-3">
                                <div>
                                    <h6 class="mb-0">Priya Sharma</h6>
                                    <small class="text-muted">Mumbai</small>
                                </div>
                            </div>
                            <p class="small text-muted mb-0">"Found my college friends after years! GupShup made it so easy."</p>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="testimonial-card">
                            <div class="d-flex align-items-center mb-3">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80" 
                                     alt="User" class="testimonial-avatar me-3">
                                <div>
                                    <h6 class="mb-0">Rahul Kumar</h6>
                                    <small class="text-muted">Delhi</small>
                                </div>
                            </div>
                            <p class="small text-muted mb-0">"Love sharing our Diwali celebrations with the community!"</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                     alt="Happy community" class="img-fluid community-image">
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section">
    <div class="content-container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold mb-4">Ready to Join the Conversation?</h2>
                <p class="lead mb-4">
                    Create your account today and become part of India's fastest-growing social community!
                </p>
                <a href="{% url 'accounts:register' %}" class="btn-cta btn-lg">
                    <i class="bi bi-rocket-takeoff me-2"></i>Get Started Now - It's Free!
                </a>
            </div>
        </div>
    </div>
</section>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Enhanced animations on scroll
window.addEventListener('load', function() {
    // Animate feature cards
    const cards = document.querySelectorAll('.feature-card');
    const testimonials = document.querySelectorAll('.testimonial-card');
    const statCards = document.querySelectorAll('.stat-card');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }, index * 100); // Stagger animation
            }
        });
    }, {
        threshold: 0.1
    });
    
    // Initialize and observe all elements
    [...cards, ...testimonials, ...statCards].forEach((element, index) => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
        observer.observe(element);
    });
    
    // Animate numbers counting up
    const animateNumbers = () => {
        const numbers = document.querySelectorAll('.stat-number');
        numbers.forEach(num => {
            const target = parseInt(num.textContent.replace(/\D/g, ''));
            if (target > 0) {
                let current = 0;
                const increment = Math.ceil(target / 30);
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    num.textContent = current + (num.textContent.includes('+') ? '+' : '');
                }, 50);
            }
        });
    };
    
    // Trigger number animation when stats overlay is visible
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateNumbers();
                statsObserver.unobserve(entry.target);
            }
        });
    });
    
    const statsOverlay = document.querySelector('.stats-overlay');
    if (statsOverlay) {
        statsObserver.observe(statsOverlay);
    }
    
    // Add smooth hover effects to images
    const images = document.querySelectorAll('.feature-card img, .community-image');
    images.forEach(img => {
        img.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.05) rotate(1deg)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        img.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1) rotate(0deg)';
        });
    });
    
    // Parallax effect for background images
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.hero-section, .cta-section');
        
        parallaxElements.forEach(element => {
            const speed = 0.5;
            element.style.backgroundPositionY = `${scrolled * speed}px`;
        });
    });
});
</script>
{% endblock %}